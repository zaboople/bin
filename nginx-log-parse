pathy=$(dirname $0)
#groovy $pathy/nginx-log-parse.groovy "$@"

AskForCols="-cols Date Method Status URL"
for x in ${@}; do
    if [[ $x == "-cols" || $x == "--cols" ]]; then
        unset AskForCols
    fi
done

groovy $pathy/log-parse.groovy \
    -template 'Host - User [Date] "Method URL Version" Status Bytes "Referer" "UserAgent" "XForwardedFor"' \
    -date-format "dd/MMM/yyyy:HH:mm:ss XXXX" \
    $AskForCols "$@"

